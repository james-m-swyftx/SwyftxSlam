<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>My Profile - The Swyftx Slam</title>
    <link rel="stylesheet" href="/styles.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="/theme.js"></script>
</head>
<body>
    <div class="container">
        <nav class="nav">
            <div class="nav-brand" onclick="triggerEasterEgg()">üèì The Swyftx Slam</div>
            <div class="nav-links">
                <a href="/leaderboard">Leaderboard</a>
                <a href="/feed">Feed</a>
                <a href="/pairings">Pairings</a>
                <a href="/report">Report Match</a>
                <a href="/profile">Profile</a>
                <span id="adminLink"></span>
                <button id="themeToggle" class="theme-toggle" onclick="toggleTheme()" title="Toggle theme">‚òÄÔ∏è</button>
                <span class="nav-username" id="username"></span>
                <button onclick="logout()">Logout</button>
            </div>
        </nav>
        
        <div class="card">
            <h1>üë§ My Profile</h1>
            
            <div id="loading" class="loading">Loading profile...</div>
            
            <div id="profileContent" class="hidden">
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-value" id="eloValue">-</div>
                        <div class="stat-label">ELO Rating</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="tierValue">-</div>
                        <div class="stat-label">Tier</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="winsValue">-</div>
                        <div class="stat-label">Wins</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="lossesValue">-</div>
                        <div class="stat-label">Losses</div>
                    </div>
                </div>
                
                <div class="tabs">
                    <button class="tab-btn active" onclick="switchTab('info', event)">Info</button>
                    <button class="tab-btn" onclick="switchTab('recommended', event)">Recommended Matches</button>
                    <button class="tab-btn" onclick="switchTab('rivals', event)">Rivals</button>
                    <button class="tab-btn" onclick="switchTab('graph', event)">ELO Graph</button>
                    <button class="tab-btn" onclick="switchTab('history', event)">Match History</button>
                </div>
                
                <div id="tab-info" class="tab-content active">
                    <h3>Account Information</h3>
                    <p><strong>Name:</strong> <span id="playerName"></span></p>
                    <p><strong>Username:</strong> <span id="playerUsername"></span></p>
                    <p><strong>Member since:</strong> <span id="memberSince"></span></p>
                    <p style="margin-top: 20px;"><strong>Win Rate:</strong> <span id="winRate"></span></p>
                </div>
                
                <div id="tab-recommended" class="tab-content">
                    <h3>üéØ Recommended Opponents</h3>
                    <p style="color: var(--text-secondary); margin-bottom: 20px;">Players close to your ELO rating for competitive matches</p>
                    <div id="recommendedList"></div>
                    <div id="noRecommended" class="hidden" style="text-align: center; padding: 40px; color: var(--text-secondary);">
                        <p>No recommended opponents at the moment. Play more matches!</p>
                    </div>
                </div>
                
                <div id="tab-rivals" class="tab-content">
                    <h3>‚öîÔ∏è Your Rivals</h3>
                    <p style="color: var(--text-secondary); margin-bottom: 20px;">Players you've faced most often</p>
                    <div id="rivalsList"></div>
                    <div id="noRivals" class="hidden" style="text-align: center; padding: 40px; color: var(--text-secondary);">
                        <p>No rivals yet. Play at least 2 matches against someone to establish a rivalry!</p>
                    </div>
                </div>
                
                <div id="tab-graph" class="tab-content">
                    <h3>üìà ELO History</h3>
                    <div id="graphStats" style="margin-bottom: 20px;">
                        <p><strong>Current ELO:</strong> <span id="graphElo"></span></p>
                        <p><strong>ELO Change:</strong> <span id="eloChange"></span></p>
                        <p><strong>Peak ELO:</strong> <span id="peakElo"></span></p>
                    </div>
                    <div class="chart-container" id="chartContainer">
                        <canvas id="eloChart"></canvas>
                    </div>
                    <div id="noGraphData" class="hidden" style="text-align: center; padding: 40px; color: #a0a0a0;">
                        <p>No match history yet. Play some matches to see your ELO progression!</p>
                    </div>
                </div>
                
                <div id="tab-history" class="tab-content">
                    <h3>üìú Recent Matches</h3>
                    <div id="matchHistory" class="match-list"></div>
                    <div id="noMatches" class="hidden" style="text-align: center; padding: 40px; color: #a0a0a0;">
                        <p>No matches played yet</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script src="/profile.js"></script>
</body>
</html>
